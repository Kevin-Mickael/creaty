<!DOCTYPE html>
<html lang="en" class="no-js">

<head>

    <!--- basic page needs
    ================================================== -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title id="page-title">Blog & Insights | Digital Agency Mauritius - Creaty</title>

    <!-- Dynamic SEO Meta Tags (populated via JavaScript from Strapi) -->
    <meta id="meta-description" name="description"
        content="Discover latest news, marketing trends, and brand identity insights from Creaty, the premier digital agency in Mauritius.">
    <meta name="author" content="Creaty - Creativfolio Ltd">
    <meta name="robots" content="index, follow">
    <link id="meta-canonical" rel="canonical" href="https://creatymu.org/blog">

    <!-- OpenGraph / Facebook (Dynamic) -->
    <meta id="og-type" property="og:type" content="article">
    <meta id="og-url" property="og:url" content="">
    <meta id="og-title" property="og:title" content="">
    <meta id="og-description" property="og:description" content="">
    <meta id="og-image" property="og:image" content="">
    <meta property="og:locale" content="en_MU">
    <meta property="og:site_name" content="Creaty">
    <meta id="og-article-published" property="article:published_time" content="">
    <meta id="og-article-author" property="article:author" content="Creaty">

    <!-- Twitter Card (Dynamic) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta id="twitter-title" name="twitter:title" content="">
    <meta id="twitter-description" name="twitter:description" content="">
    <meta id="twitter-image" name="twitter:image" content="">

    <!-- Article Schema (populated via JavaScript) -->
    <script id="article-schema" type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "",
        "description": "",
        "image": "",
        "author": {
            "@type": "Organization",
            "name": "Creaty"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Creaty",
            "logo": {
                "@type": "ImageObject",
                "url": "https://creatymu.org/images/creaty.logo.svg"
            }
        },
        "datePublished": "",
        "dateModified": ""
    }
    </script>

    <script>
        document.documentElement.classList.remove('no-js');
        document.documentElement.classList.add('js');
    </script>

    <!-- CSS
    ================================================== -->
    <link rel="stylesheet" href="/css/vendor.css">
    <link rel="stylesheet" href="/css/styles.css">


    <style>
        .s-article {
            padding-top: var(--vspace-5);
            padding-bottom: var(--vspace-5);
        }

        .article-header {
            text-align: center;
            margin-bottom: var(--vspace-4);
        }

        .article-header__category {
            display: inline-block;
            padding: 0.6rem 2rem;
            border: 1px solid #ccc;
            border-radius: 50px;
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: .15rem;
            margin-bottom: 2rem;
        }

        .article-header__title {
            font-size: 5rem;
            margin-bottom: 2rem;
            line-height: 1.2;
        }

        .article-header__meta {
            display: flex;
            justify-content: center;
            gap: 3rem;
            font-size: 1.4rem;
            color: #666;
        }

        .article-featured-image {
            width: 100%;
            max-height: 600px;
            object-fit: cover;
            border-radius: 20px;
            margin-bottom: var(--vspace-3);
        }

        .article-content {
            max-width: 800px;
            margin: 0 auto;
            font-size: 1.8rem;
            line-height: 1.8;
        }

        .article-content p {
            margin-bottom: 2rem;
        }

        .article-back {
            display: inline-flex;
            align-items: center;
            gap: 1rem;
            font-weight: 700;
            margin-bottom: var(--vspace-2);
        }

        .article-back svg {
            width: 20px;
            height: 20px;
        }

        /* Skeleton */
        .skeleton {
            background: linear-gradient(110deg, #ececec 8%, #f5f5f5 18%, #ececec 33%);
            background-size: 200% 100%;
            animation: 1.5s shine linear infinite;
        }

        @keyframes shine {
            to {
                background-position-x: -200%;
            }
        }

        /* CTA Button Fix */
        .s-header__cta .btn.s-header__cta-btn {
            background-color: var(--color-1) !important;
            border-color: var(--color-1) !important;
            color: #ffffff !important;
            transition: all 0.3s ease;
        }

        .s-header__cta .btn.s-header__cta-btn:hover {
            background-color: var(--color-1-dark) !important;
            border-color: var(--color-1-dark) !important;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }

        .sticky .s-header__cta .btn.s-header__cta-btn {
            background-color: var(--color-1) !important;
            border-color: var(--color-1) !important;
            opacity: 1;
        }

        /* Force Header Fixed on subpages */
        .s-header.sticky {
            position: fixed !important;
            opacity: 1 !important;
            visibility: visible !important;
            background-color: var(--color-gray-19) !important;
            transform: translateY(0) !important;
            top: 0 !important;
        }

        .s-header__inner {
            opacity: 1 !important;
            transform: translateY(0) !important;
        }

        /* Comments Styling */
        .article-comments {
            padding-top: var(--vspace-4);
            max-width: 800px;
            margin: 4rem auto 0;
            border-top: 1px solid var(--color-gray-4);
        }

        .comments-list {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .comment-item {
            padding: 3rem 0;
            border-bottom: 1px solid var(--color-gray-2);
        }

        .comment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .comment-author {
            font-weight: 700;
            color: var(--color-text-dark);
            font-size: 1.8rem;
        }

        .comment-date {
            font-size: 1.4rem;
            color: #888;
        }

        .comment-content {
            font-size: 1.6rem;
            line-height: 1.6;
            color: var(--color-text-dark);
        }

        /* Admin Reply */
        .comment-reply {
            margin-top: 2rem;
            margin-left: 4rem;
            padding: 2rem;
            background-color: var(--color-gray-1);
            border-left: 3px solid var(--color-1);
            border-radius: 0 8px 8px 0;
        }

        .comment-reply-header {
            font-weight: 700;
            color: var(--color-1);
            margin-bottom: 0.5rem;
            font-size: 1.3rem;
            text-transform: uppercase;
            letter-spacing: 0.1rem;
        }

        /* Comment Form */
        .comment-form-section {
            padding-top: var(--vspace-3);
            margin-bottom: var(--vspace-4);
        }

        .comment-form-section h4 {
            margin-bottom: 3rem;
        }

        .comment-form input,
        .comment-form textarea {
            width: 100%;
            background: #fdfdfd;
            border: 1px solid #ddd;
            padding: 1.5rem 2rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            transition: all 0.3s ease;
            font-size: 1.6rem;
        }

        .comment-form input:focus,
        .comment-form textarea:focus {
            border-color: var(--color-1);
            outline: none;
            background: #fff;
            box-shadow: 0 0 0 4px rgba(63, 136, 92, 0.1);
        }

        .comment-form .btn {
            width: 100%;
            cursor: pointer;
        }

        #comment-status {
            font-size: 1.5rem;
            font-weight: 500;
        }
    </style>

    <!-- favicons
    ================================================== -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="theme-color" content="#ffffff">

</head>


<body id="top">


    <!-- preloader
    ================================================== -->
    <div id="preloader">
        <div id="loader">
        </div>
    </div>


    <!-- page wrap
    ================================================== -->
    <div id="page" class="s-pagewrap">


        <!-- # site header 
        ================================================== -->
        <header class="s-header sticky offset scrolling">

            <div class="row s-header__inner">

                <div class="s-header__block">
                    <div class="s-header__logo">
                        <a class="logo" href="/">
                            <img src="/images/creaty.logo.svg" alt="Homepage">
                        </a>
                    </div>

                    <a class="s-header__menu-toggle" href="#0"><span>Menu</span></a>
                </div> <!-- end s-header__block -->

                <nav class="s-header__nav">
                    <ul>
                        <li><a href="/#intro">Intro</a></li>
                        <li><a href="/#about">About</a></li>
                        <li><a href="/#pricing">Pricing</a></li>
                        <li><a href="/#faq">FAQ</a></li>
                        <li class="current"><a href="/news">News</a></li>
                        <li><a href="/legal">Terms</a></li>
                    </ul>
                </nav>

                <div class="s-header__cta">
                    <a href="/#contact" class="btn btn--primary s-header__cta-btn">Contact us</a>
                </div>

            </div> <!-- end s-header__inner -->

        </header> <!-- end s-header -->


        <!-- # site-content
        ================================================== -->
        <section id="content" class="s-content s-article">

            <div class="row">
                <div class="column lg-12">
                    <a href="/news" class="article-back">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M10.25 6.75L4.75 12L10.25 17.25M19.25 12H5"></path>
                        </svg>
                        Back to News
                    </a>
                </div>
            </div>

            <div class="row article-header" id="article-header">
                <div class="column lg-12 text-center">
                    <span class="article-header__category skeleton" id="article-category">&nbsp;</span>
                    <h1 class="article-header__title skeleton" id="article-title">&nbsp;</h1>
                    <div class="article-header__meta" id="article-meta">
                        <span id="article-date"></span>
                        <span id="article-author"></span>
                        <span id="article-readtime"></span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="column lg-12">
                    <img id="article-image" class="article-featured-image skeleton" src="" alt="">
                </div>
            </div>

            <div class="row">
                <div class="column lg-12">
                    <div class="article-content" id="article-content"
                        style="text-align: justify; color: var(--color-text-dark);">
                        <p class="skeleton" style="height: 100px;">&nbsp;</p>
                        <p class="skeleton" style="height: 80px;">&nbsp;</p>
                    </div>
                </div>
            </div>

            <!-- Comments Section -->
            <div class="row article-comments" id="comments">
                <div class="column lg-12">
                    <h3 id="comments-count">0 Comments</h3>

                    <div id="comments-list-container">
                        <p style="color: #888;">Loading comments...</p>
                    </div>

                    <div class="comment-form-section">
                        <h4>Leave a Comment</h4>
                        <form id="comment-form" class="comment-form">
                            <div class="row">
                                <div class="column lg-6 mob-12">
                                    <input type="text" id="comment-name" placeholder="Your Name" required>
                                </div>
                                <div class="column lg-6 mob-12">
                                    <input type="email" id="comment-email" placeholder="Your Email" required>
                                </div>
                            </div>
                            <textarea id="comment-message" placeholder="Your Comment" rows="5" required></textarea>
                            <button type="submit" class="btn btn--primary" id="submit-comment">Post Comment</button>
                            <div id="comment-status"></div>
                        </form>
                    </div>
                </div>
            </div>

        </section> <!-- end s-content -->


        <!-- # site-footer
        ================================================== -->
        <footer id="colophon" class="s-footer footer">

            <div class="row s-footer__top">
                <div class="column lg-12 text-center">
                    <h2 class="text-display-1">
                        Sign Up to Our Newsletter.
                    </h2>
                    <p class="lead">
                        Subscribe for updates, special offers and more.
                    </p>
                </div>
                <div class="column lg-12 s-footer__subscribe">
                    <div class="subscribe-form">
                        <form id="mc-form" class="mc-form">
                            <input type="email" name="EMAIL" id="mce-EMAIL" class="u-fullwidth text-center"
                                placeholder="Your Email Address" required>
                            <input type="submit" name="subscribe" value="Subscribe"
                                class="btn btn--primary u-fullwidth">
                            <div class="mc-status"></div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="row s-footer__bottom">
                <div class="column lg-5 md-6 stack-on-900">
                    <div class="footer__logo">
                        <a href="/">
                            <img src="/images/creaty.logo.svg" alt="Homepage">
                        </a>
                    </div>

                    <p>
                        Creaty is a premier agency in Mauritius specialized in Community Management and Graphic Design.
                        We help businesses shine online.
                    </p>

                    <ul class="s-footer__social">
                        <li>
                            <a href="">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    style="fill:rgba(0, 0, 0, 1);">
                                    <path
                                        d="M20,3H4C3.447,3,3,3.448,3,4v16c0,0.552,0.447,1,1,1h8.615v-6.96h-2.338v-2.725h2.338v-2c0-2.325,1.42-3.592,3.5-3.592 c0.699-0.002,1.399,0.034,2.095,0.107v2.42h-1.435c-1.128,0-1.348,0.538-1.348,1.325v1.735h2.697l-0.35,2.725h-2.348V21H20 c0.553,0,1-0.448,1-1V4C21,3.448,20.553,3,20,3z">
                                    </path>
                                </svg>
                                <span class="u-screen-reader-text">Facebook</span>
                            </a>
                        </li>
                        <li>
                            <a href="#0">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    style="fill:rgba(0, 0, 0, 1);">
                                    <path
                                        d="M18.161 2H21.5L14.07 10.49L22.8 22H15.901L10.497 14.921L4.316 22H0.976L8.851 13.012L0.5 2H7.568L12.457 8.455L18.161 2ZM16.98 20.005H18.831L6.417 3.905H4.431L16.98 20.005Z">
                                    </path>
                                </svg>
                                <span class="u-screen-reader-text">X.com</span>
                            </a>
                        </li>
                        <li>
                            <a href="#0">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 22 22"
                                    style="fill:rgba(0, 0, 0, 1);">
                                    <path
                                        d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z">
                                    </path>
                                </svg>
                                <span class="u-screen-reader-text">LinkedIn</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="column lg-6 stack-on-900 end">
                    <ul class="s-footer__site-links">
                        <li><a href="/#intro">Intro</a></li>
                        <li><a href="/#about">About</a></li>
                        <li><a href="/#pricing">Pricing</a></li>
                        <li><a href="/#faq">FAQ</a></li>
                        <li><a href="/news">News</a></li>
                        <li><a href="/legal">Terms</a></li>
                    </ul>

                    <p class="s-footer__contact">
                        Do you have a question? Send us a word: <br>
                        <a href="mailto:support@creaty.com" class="s-footer__mail-link">support@creaty.com</a>
                    </p>

                    <div class="ss-copyright">
                        <span>© Creaty 2025 — Operated by <b>Creativfolio Ltd</b>, registered in Mauritius • <b>BRN:
                                C25227739</b></span>
                    </div>
                </div>
            </div>

        </footer> <!-- end footer -->

        <!-- Cookie Banner -->
        <div id="cookie-banner" class="cookie-banner">
            <div class="cookie-banner__icon-wrapper">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M21.355 15.645a9 9 0 1 1-9-9c.343 0 .68.019 1.012.055a4.5 4.5 0 0 0 7.933 7.933c.036.332.055.669.055 1.012z"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    <circle cx="9.5" cy="11.5" r="1" fill="currentColor" />
                    <circle cx="12.5" cy="15.5" r="1" fill="currentColor" />
                    <circle cx="15.5" cy="11.5" r="1" fill="currentColor" />
                </svg>
            </div>
            <div class="cookie-banner__content">
                <h4>We Value Your Privacy</h4>
                <p>We use cookies to enhance your browsing experience and analyze our traffic. By clicking "Accept", you
                    consent to our use of cookies. <a href="/legal" class="link-primary-underline">Learn more</a></p>
                <div class="cookie-banner__buttons">
                    <button class="cookie-banner__btn cookie-banner__btn--accept"
                        onclick="acceptCookies()">Accept</button>
                    <button class="cookie-banner__btn cookie-banner__btn--decline"
                        onclick="closeCookieBanner()">Decline</button>
                </div>
            </div>
        </div>

        <!-- Promo Widget -->
        <div id="promo-widget" class="promo-widget">
            <div class="promo-widget__close" onclick="minimizePromo()">
                <svg viewBox="0 0 24 24">
                    <path
                        d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                </svg>
            </div>
            <div class="promo-widget__icon-header">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" />
                </svg>
            </div>
            <h4>Ready for a Digital Upgrade?</h4>
            <p>
                Stop dreaming about it. Whether you need a slick website or a mobile app that works, let's make it real.
            </p>
            <a href="https://creativfolio.com" target="_blank" class="promo-widget__btn">
                Visit Creativfolio
            </a>

            <div class="promo-news">
                <span class="promo-news__title">Latest News</span>
                <div id="promo-news-container">
                    <p style="font-size: 1.2rem; color: rgba(255,255,255,0.5);">Loading latest updates...</p>
                </div>
            </div>
        </div>

        <!-- Promo Trigger Icon -->
        <div id="promo-trigger" class="promo-trigger" onclick="showPromo()">
            <svg viewBox="0 0 24 24">
                <path
                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z" />
            </svg>
        </div>

        <!-- Java Script
    ================================================== -->
        <script src="/js/plugins.js"></script>
        <script src="/js/config.js"></script>
        <script src="/js/promo.js"></script>
        <script>
            let currentArticleDocumentId = null;

            document.addEventListener('DOMContentLoaded', async () => {
                const urlParams = new URLSearchParams(window.location.search);
                const slug = urlParams.get('slug');

                if (!slug) {
                    console.log('No slug found, redirecting to /news');
                    window.location.href = '/news';
                    return;
                }

                // Global Timeout to stop all loading indicators after 15s
                const globalTimeout = setTimeout(() => {
                    console.warn('Global loading timeout reached.');
                    document.querySelectorAll('.skeleton').forEach(el => el.classList.remove('skeleton'));
                    const preloader = document.getElementById('preloader');
                    if (preloader) preloader.style.display = 'none';
                }, 15000);

                try {
                    console.log('Fetching article with slug/documentId:', slug);

                    const fetchWithTimeout = async (url, options = {}, timeout = 10000) => {
                        const controller = new AbortController();
                        const id = setTimeout(() => controller.abort(), timeout);
                        try {
                            const response = await fetch(url, { ...options, signal: controller.signal });
                            clearTimeout(id);
                            return response;
                        } catch (e) {
                            clearTimeout(id);
                            throw e;
                        }
                    };

                    let article = null;

                    // 1. Try fetching by slug filter
                    console.log('Attempting slug fetch...');
                    try {
                        const response = await fetchWithTimeout(`${CONFIG.API_URL}/articles?filters[slug][$eq]=${slug}&populate=*`);
                        if (response.ok) {
                            const { data } = await response.json();
                            if (data && data.length > 0) {
                                console.log('Article found via slug filter');
                                article = data[0];
                            }
                        }
                    } catch (e) {
                        console.warn('Slug fetch failed or timed out:', e);
                    }

                    // 2. Fallback: Try direct documentId fetch if not found by slug
                    if (!article) {
                        console.log('Attempting direct documentId fetch...');
                        try {
                            const responseById = await fetchWithTimeout(`${CONFIG.API_URL}/articles/${slug}?populate=*`);
                            if (responseById.ok) {
                                const singleData = await responseById.json();
                                if (singleData.data) {
                                    console.log('Article found via direct fetch');
                                    article = singleData.data;
                                }
                            }
                        } catch (e) {
                            console.warn('Direct fetch failed or timed out:', e);
                        }
                    }

                    if (article) {
                        currentArticleDocumentId = article.documentId || article.id;
                        renderArticle(article);
                        loadComments(currentArticleDocumentId);
                        clearTimeout(globalTimeout);
                    } else {
                        throw new Error('Article not found in database via slug or ID.');
                    }

                } catch (error) {
                    console.error('Final Error loading article:', error);
                    const contentEl = document.getElementById('article-content');
                    if (contentEl) {
                        contentEl.innerHTML = `
                            <div class="alert-box alert-box--error">
                                <p>Désolé, l'article n'a pas pu être chargé. (${error.message})</p>
                                <p><a href="/news" style="color: white; text-decoration: underline;">Retour aux news</a></p>
                            </div>
                        `;
                    }
                } finally {
                    // Ensure skeletons and preloader are removed
                    document.querySelectorAll('.skeleton').forEach(el => el.classList.remove('skeleton'));
                    const preloader = document.getElementById('preloader');
                    if (preloader) {
                        preloader.classList.add('ss-loaded');
                        document.body.classList.add('ss-show');
                        setTimeout(() => { if (preloader) preloader.style.display = 'none'; }, 500);
                    }
                }
            });

            function renderArticle(article) {
                if (!article) return;
                const attrs = article.attributes || article;
                console.log('Rendering article data:', attrs);

                // Build image URL
                let imageUrl = 'https://creatymu.org/images/og-image.jpg';
                if (attrs.image) {
                    if (attrs.image.data?.attributes?.url) {
                        imageUrl = attrs.image.data.attributes.url.startsWith('http')
                            ? attrs.image.data.attributes.url
                            : CONFIG.STRAPI_BASE_URL + attrs.image.data.attributes.url;
                    } else if (attrs.image.url) {
                        imageUrl = attrs.image.url.startsWith('http')
                            ? attrs.image.url
                            : CONFIG.STRAPI_BASE_URL + attrs.image.url;
                    }
                }

                // Extract description (first 160 chars for SEO)
                let description = attrs.excerpt || attrs.description || '';
                if (!description && Array.isArray(attrs.content)) {
                    const firstParagraph = attrs.content.find(b => b.type === 'paragraph');
                    if (firstParagraph) {
                        description = firstParagraph.children.map(c => c.text).join('').substring(0, 160);
                    }
                }
                if (description.length > 160) description = description.substring(0, 157) + '...';

                const articleUrl = `https://creatymu.org/blog?slug=${attrs.slug || article.documentId}`;
                const publishedDate = attrs.publishedAt || attrs.createdAt;
                const modifiedDate = attrs.updatedAt || publishedDate;

                // Update page title
                document.title = `${attrs.title} - Creaty.`;

                // --- UPDATE DYNAMIC SEO META TAGS ---

                // Meta Description
                const metaDesc = document.getElementById('meta-description');
                if (metaDesc) metaDesc.setAttribute('content', description);

                // Canonical URL
                const metaCanonical = document.getElementById('meta-canonical');
                if (metaCanonical) metaCanonical.setAttribute('href', articleUrl);

                // OpenGraph tags
                const ogUrl = document.getElementById('og-url');
                if (ogUrl) ogUrl.setAttribute('content', articleUrl);

                const ogTitle = document.getElementById('og-title');
                if (ogTitle) ogTitle.setAttribute('content', attrs.title);

                const ogDesc = document.getElementById('og-description');
                if (ogDesc) ogDesc.setAttribute('content', description);

                const ogImage = document.getElementById('og-image');
                if (ogImage) ogImage.setAttribute('content', imageUrl);

                const ogPublished = document.getElementById('og-article-published');
                if (ogPublished) ogPublished.setAttribute('content', publishedDate);

                // Twitter tags
                const twitterTitle = document.getElementById('twitter-title');
                if (twitterTitle) twitterTitle.setAttribute('content', attrs.title);

                const twitterDesc = document.getElementById('twitter-description');
                if (twitterDesc) twitterDesc.setAttribute('content', description);

                const twitterImage = document.getElementById('twitter-image');
                if (twitterImage) twitterImage.setAttribute('content', imageUrl);

                // --- UPDATE ARTICLE SCHEMA ---
                const schemaScript = document.getElementById('article-schema');
                if (schemaScript) {
                    const articleSchema = {
                        "@context": "https://schema.org",
                        "@type": "Article",
                        "headline": attrs.title,
                        "description": description,
                        "image": imageUrl,
                        "author": {
                            "@type": "Organization",
                            "name": "Creaty"
                        },
                        "publisher": {
                            "@type": "Organization",
                            "name": "Creaty",
                            "logo": {
                                "@type": "ImageObject",
                                "url": "https://creatymu.org/images/creaty.logo.svg"
                            }
                        },
                        "datePublished": publishedDate,
                        "dateModified": modifiedDate,
                        "mainEntityOfPage": {
                            "@type": "WebPage",
                            "@id": articleUrl
                        }
                    };
                    schemaScript.textContent = JSON.stringify(articleSchema);
                }

                // Category
                const categoryEl = document.getElementById('article-category');
                if (categoryEl) {
                    categoryEl.textContent = attrs.category || 'NEWS';
                    categoryEl.classList.remove('skeleton');
                }

                // Title
                const titleEl = document.getElementById('article-title');
                if (titleEl) {
                    titleEl.textContent = attrs.title;
                    titleEl.classList.remove('skeleton');
                    titleEl.style.height = 'auto';
                }

                // Date
                const dateEl = document.getElementById('article-date');
                if (dateEl) {
                    const date = new Date(publishedDate).toLocaleDateString('fr-FR', {
                        day: 'numeric',
                        month: 'long',
                        year: 'numeric'
                    });
                    dateEl.textContent = date;
                }

                // Author
                const authorEl = document.getElementById('article-author');
                if (authorEl && attrs.author) {
                    authorEl.textContent = typeof attrs.author === 'string' ? `By ${attrs.author}` : (attrs.author.name ? `By ${attrs.author.name}` : '');
                }

                // Read time
                const readtimeEl = document.getElementById('article-readtime');
                if (readtimeEl && attrs.readTime) {
                    readtimeEl.textContent = `${attrs.readTime} min read`;
                }

                // Image
                const imageEl = document.getElementById('article-image');
                if (imageEl) {
                    imageEl.src = imageUrl;
                    imageEl.alt = attrs.title || 'Article Image';
                    imageEl.classList.remove('skeleton');
                }

                // Content
                const contentEl = document.getElementById('article-content');
                if (contentEl) {
                    // Simple check if it's Blocks or HTML
                    if (Array.isArray(attrs.content)) {
                        // Very basic conversion of Strapi Blocks to text if needed
                        contentEl.innerHTML = attrs.content.map(block => {
                            if (block.type === 'paragraph') {
                                return `<p>${block.children.map(child => child.text).join('')}</p>`;
                            }
                            return '';
                        }).join('');
                    } else {
                        contentEl.innerHTML = attrs.content || attrs.description || '<p>No content available.</p>';
                    }
                }

                // Final cleanup of skeletons
                document.querySelectorAll('.skeleton').forEach(el => el.classList.remove('skeleton'));
            }

            // --- Comments Logic ---

            async function loadComments(articleDocId) {
                try {
                    const response = await fetch(`${CONFIG.API_URL}/comments?filters[article][documentId][$eq]=${articleDocId}&populate=*&sort=createdAt:desc`);
                    if (!response.ok) return;
                    const { data } = await response.json();
                    renderComments(data);
                } catch (err) {
                    console.error('Error loading comments:', err);
                }
            }

            function renderComments(comments) {
                const container = document.getElementById('comments-list-container');
                const countEl = document.getElementById('comments-count');

                countEl.textContent = `${comments.length} Comment${comments.length !== 1 ? 's' : ''}`;

                if (comments.length === 0) {
                    container.innerHTML = '<p style="color: #888; font-style: italic;">No comments yet. Be the first to share your thoughts!</p>';
                    return;
                }

                container.innerHTML = comments.map(comment => {
                    const attrs = comment.attributes || comment;
                    const date = new Date(attrs.createdAt).toLocaleDateString('fr-FR', {
                        day: 'numeric',
                        month: 'short',
                        year: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    });

                    let replyHTML = '';
                    // Support for adminReply or reply field from Strapi
                    const reply = attrs.adminReply || attrs.reply;
                    if (reply) {
                        replyHTML = `
                            <div class="comment-reply">
                                <div class="comment-reply-header">Creaty Team Response</div>
                                <div class="comment-content">${reply}</div>
                            </div>
                        `;
                    }

                    return `
                        <div class="comment-item">
                            <div class="comment-header">
                                <span class="comment-author">${attrs.authorName || 'Guest'}</span>
                                <span class="comment-date">${date}</span>
                            </div>
                            <div class="comment-content">
                                ${attrs.content || attrs.comment || ''}
                            </div>
                            ${replyHTML}
                        </div>
                    `;
                }).join('');
            }

            document.getElementById('comment-form').addEventListener('submit', async (e) => {
                e.preventDefault();
                const submitBtn = document.getElementById('submit-comment');
                const statusEl = document.getElementById('comment-status');

                if (!currentArticleDocumentId) {
                    statusEl.innerHTML = '<p style="color: #ff4a4a;">Error: Article ID not recovered.</p>';
                    return;
                }

                const name = document.getElementById('comment-name').value;
                const email = document.getElementById('comment-email').value;
                const content = document.getElementById('comment-message').value;

                submitBtn.disabled = true;
                submitBtn.textContent = 'Sending...';
                statusEl.innerHTML = '';

                try {
                    const response = await fetch(`${CONFIG.API_URL}/comments`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            data: {
                                authorName: name,
                                authorEmail: email,
                                content: content,
                                article: currentArticleDocumentId
                            }
                        })
                    });

                    if (!response.ok) {
                        const errorData = await response.json();
                        throw new Error(errorData.error?.message || 'Failed to post comment');
                    }

                    statusEl.innerHTML = '<p style="color: var(--color-1); margin-top: 2rem;">Votre commentaire a été envoyé avec succès ! Il apparaîtra après validation.</p>';
                    document.getElementById('comment-form').reset();

                    // Reload comments
                    loadComments(currentArticleDocumentId);

                } catch (error) {
                    console.error('Comment Post Error:', error);
                    statusEl.innerHTML = `<p style="color: #ff4a4a; margin-top: 2rem;">Erreur : ${error.message}. Assurez-vous que la collection "comments" est créée dans Strapi.</p>`;
                } finally {
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'Post Comment';
                }
            });
        </script>
        <script src="/js/main.js"></script>

</body>

</html>